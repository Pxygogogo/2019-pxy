{extend name="base" /}
{block name="cargo"}
<a href="{:url('index/cargo/index')}" class="active list-group-item list-group-item-action waves-effect">
    <i class="fas fa-table mr-3"></i>货物管理</a>
{/block}

{block name="main"}

<!--Grid row-->
<div class="row wow fadeIn">
    <div style="text-align: center;margin-left:40%;"><h2 class="page-title">货物搜索</h2></div>
    <div class="col-md-12">
        <div class="collapse show" id="searchForm">
            <div class="card">
                <form class="form-horizontal" action="searchResult" method="post">
                    <div class="panel panel-default">
                        <div class="panel-heading" style="padding: 20px">
                            <h6 class="panel-title">货物搜索</h6>
                        </div>
                        <div class="panel-body">
                            <div class="form-group">
                                <label for="" class="col-sm-2 control-label">关键词</label>
                                <div class="col-sm-9">
                                    <input type="text" name="keywords" class="form-control"
                                           placeholder="请输入任意货物信息进行搜索...">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div style="padding: 25px">
                        <button class="btn btn-primary" type="submit">搜索</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div style="text-align: center;margin-left:40%;margin-top: 20px;"><h2 class="page-title">新增货物</h2></div>
    <div class="col-md-12">
        <div id="cargo" class="collapse show">
            <div class="card">
                <form class="form-horizontal" id="form" action="addCargo" method="post">
                    <div class="panel panel-default">
                        <div class="panel-heading" style="padding: 20px">

                        </div>
                        <div class="panel-body">
                            <div class="form-group" style="padding-left: 26px">
                                <div class="row">
                                    <div class="col-sm-5">
                                        <label for="" class="col-sm-5 control-label">货物名字</label>
                                        <input type="text" name="name" class="form-control" placeholder="">
                                    </div>
                                    <div class="col-sm-5">
                                        <label for="" class="col-sm-5 control-label">货物类型</label>
                                        <input type="text" name="kind" class="form-control" placeholder="">
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-5">
                                        <label for="" class="col-sm-5 control-label">打包方式</label>
                                        <input type="text" name="pack" class="form-control"
                                               placeholder="">
                                    </div>
                                    <div class="col-sm-5">
                                        <label for="" class="col-sm-5 control-label">计量单位</label>
                                        <input type="text" name="unit" class="form-control"
                                               placeholder="">
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-5">
                                        <label for="" class="col-sm-5 control-label">单位长度（米）</label>
                                        <input type="text" name="length" class="form-control"
                                               placeholder="">
                                    </div>
                                    <div class="col-sm-5">
                                        <label for="" class="col-sm-5 control-label">单位宽度（米）</label>
                                        <input type="text" name="width" class="form-control"
                                               placeholder="">
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-5">
                                        <label for="" class="col-sm-5 control-label">单位高度（米）</label>
                                        <input type="text" name="height" class="form-control"
                                               placeholder="">
                                    </div>
                                    <div class="col-sm-5">
                                        <label for="" class="col-sm-5 control-label">单位重量（千克）</label>
                                        <input type="text" name="weight" class="form-control"
                                               placeholder="">
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-5">
                                        <label for="" class="col-sm-5 control-label">保鲜温度（摄氏度）</label>
                                        <input type="text" name="temp" class="form-control"
                                               placeholder="">
                                    </div>
                                    <div class="col-sm-5">
                                        <label for="" class="col-sm-5 control-label">保质期（天）</label>
                                        <input type="text" name="deadline" class="form-control"
                                               placeholder="">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div style="padding: 25px">
                        <button class="btn btn-primary" type="submit">确定新增</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div style="text-align: center;margin-left:38%;margin-top: 20px;"><h2 class="page-title">现有货物管理</h2></div>

    <!--Grid column-->
    <div class="col-md-12">

        <!--        <div>-->
        <!--            <button type="button" class="btn btn-primary">增加货物</button>-->
        <!--        </div>-->

        <!--Card-->
        <div class="card">

            <!--Card content-->
            <div class="card-body">

                <!-- Table  -->
                <table class="table table-hover">
                    <!-- Table head -->
                    <thead class="blue-grey lighten-4">
                    <tr>
                        <th>货物编号</th>
                        <th>货物名称</th>
                        <th>货物类型</th>
                        <th>计量单位</th>
                        <th>保鲜温度（摄氏度）</th>
                        <th>保质期（天）</th>
                        <th>操作</th>
                    </tr>
                    </thead>
                    <!-- Table head -->

                    <!-- Table body -->
                    <tbody>
                    {foreach name='cargo' key='key' item='vo'}
                    <tr style="border-bottom: 1px solid #dee2e6;">
                        <td>{$vo['cargo_id']}</td>
                        <td>{$vo['name']}</td>
                        <td>{$vo['kind']}</td>
                        <td>{$vo['unit']}</td>
                        <td>{$vo['temp']}</td>
                        <td>{$vo['deadline']}</td>
                        <td>
                            <button class="btn btn-danger btn-sm" onclick="del({$vo['cargo_id']})">删除</button>
                            <button class="btn btn-primary btn-sm" onclick="change({$vo['cargo_id']})">修改</button>
                        </td>
                    </tr>
                    {/foreach}
                    </tbody>
                    <!-- Table body -->
                </table>
                <!-- Table  -->

            </div>

        </div>
        <!--/.Card-->

    </div>
    <!--Grid column-->


</div>
<!--Grid row-->

{/block}

{block name="script"}
<script>
    function del(cargo_id) {
        if (confirm('确定要删除吗？')) {
            location.href = "{:url('del')}" + '?cargo_id=' + cargo_id;
        } else {

        }
    }

    function change(cargo_id) {
        location.href = "{:url('change')}" + '?cargo_id=' + cargo_id;
    }
</script>
{/block}